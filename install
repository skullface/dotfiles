echo -e "  âŠ¹ã€€  +  ã€€  *ã€€Â·   . ã€€ ã€€ âŠ¹ .ã€€ã€€ ã€€ Ëš  âœ«
Ëšã€€ âœ¦ *     Â· Â·     + ã€€  âœ¦ ã€€Ëš     Âº. *   + 
ã€€âœ« Âº .    âœ« âœµ  ã€€Ëš   Ê°áµ‰Ë¡Ë¡áµ’    âœ«  â‹†    . ã€€
 âœ§ ã€€ *ã€€ã€€ã€€ã€€ Ëš  *  ã€€  â™¡ ã€€  Ëš âœ« ã€€ã€€    â‹†Ëš
ã€€ Ëš  ã€€ âœ¹ ã€€ .  + ã€€ âŠ¹    .*  âœ¦  Â·    âœ§Ëš "
echo -e "             ğŸ“¦ LETâ€™S BOOTSTRAP! ğŸš€"

# Close any open System Preferences panes
osascript -e 'tell application "System Preferences" to quit'

# Ask for the administrator password upfront
sudo -v

# Keep alive: update existing `sudo` timestamp until `.macos` has finished
while true; do sudo -n true; sleep 60; kill -0 "$$" || exit; done 2>/dev/null &

# Install Xcode Command Line Utilities
# Make sure you install/update Xcode from the App Store first!
echo "ğŸ˜… Installing the bane of our collective existenceâ€¦"
xcode-select --install

# Install Homebrew
echo "ğŸº Installing Homebrewâ€¦"
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
brew update

# Install requirements
PACKAGES=(
  wget
  imagemagick
  svgo
  node
  gh
  rbenv
)

echo "ğŸ“¦ Installing command line packagesâ€¦ owo"
brew install ${PACKAGES[@]}

echo "ğŸ˜ And now, some programs~"
brew tap homebrew/cask

PROGRAMS_REQ=(
  google-chrome
  firefox
  1password
  slack
  zoomus
  encryptme
  loom
)

PROGRAMS_DEV=(
  figma
  visual-studio-code
  dash
  docker
)

PROGRAMS_FUN=(
  discord
  spotify
  kindle
  vlc
)

echo "  Installing required appsâ€¦"
brew cask install ${PROGRAMS_REQ[@]}

echo "  Installing design and development appsâ€¦"
brew cask install ${PROGRAMS_DEV[@]}

echo "  Installing fun appsâ€¦"
brew cask install ${PROGRAMS_FUN[@]}

echo "  Installing Ergodox config toolâ€¦"
brew tap homebrew/cask-drivers
brew cask install zsa-wally

echo "  Cleaning upâ€¦"
brew cleanup

# NVM
echo "==> ğŸ’š Installing NVMâ€¦"
touch ~/.zshrc
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash

# Fonts
echo "==> ğŸ”  Installing a few free and open source fontsâ€¦"
brew tap homebrew/cask-fonts

FONTS=(
  font-saucecodepro-nerd-font
  font-inconsolata
  font-roboto
  font-inter
  font-black-han-sans
  font-ibm-plex
)

brew cask install ${FONTS[@]}

# Customize Terminal: ohmyzsh
echo "ğŸš€ Customizing Terminalâ€¦"
echo "  Installing ohmyzsh and the Spaceship themeâ€¦"
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
git clone https://github.com/denysdovhan/spaceship-prompt.git "$ZSH_CUSTOM/themes/spaceship-prompt"
ln -s "$ZSH_CUSTOM/themes/spaceship-prompt/spaceship.zsh-theme" "$ZSH_CUSTOM/themes/spaceship.zsh-theme"

# Customize Terminal: remove
echo "  Removing that â€œlast loginâ€ annoying message"
touch ~/.hushlogin

# OSX
echo "ğŸ Configuring OSXâ€¦"

# Trackpad: Enable tap-to-click
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad Clicking -bool true
defaults -currentHost write NSGlobalDomain com.apple.mouse.tapBehavior -int 1

# Trackpad: Disable "natural" scroll
defaults write NSGlobalDomain com.apple.swipescrolldirection -bool false

echo "  Trackpad settings set"

# Keyboard: Disable smart quotes
defaults write NSGlobalDomain NSAutomaticQuoteSubstitutionEnabled -bool false

echo "  Keyboard settings set"

# Finder: Always show hidden files
defaults write com.apple.finder AppleShowAllFiles YES

# Finder: Use list view in all Finder windows by default
defaults write com.apple.finder FXPreferredViewStyle -string "Nlsv"

# Finder: Keep folders on top when sorting by name
defaults write com.apple.finder _FXSortFoldersFirst -bool true

# Finder: Show filename extensions by default
defaults write NSGlobalDomain AppleShowAllExtensions -bool true

# Finder: When performing a search, search the current folder by default
defaults write com.apple.finder FXDefaultSearchScope -string "SCcf"

echo "  Finder settings set"

# Dock: move to left side of screen to maximize available vertical space
defaults write com.apple.dock orientation -string left

# Dock: use "scale" app minimization effect
defaults write com.apple.dock mineffect -string scale

# Dock: make icons smaller
defaults write com.apple.dock tilesize -integer 42

# Dock: halve the show/hide animation time 
defaults write com.apple.dock autohide-time-modifier -float 0.5

# Dock: remove delay to show/hide
defaults write com.apple.dock autohide-delay -float 0

echo "  Dock settings set"

echo "  Restarting Finder and Dockâ€¦"
sudo killall Finder && killall Dock

echo "âœ¨ğŸ’—ğŸ’ğŸŒˆğŸŒŸğŸ’«ğŸŒ±ğŸ“ OMG DONE"
echo "ğŸ‘©ğŸ»â€ğŸ’» Happy hacking~!"